# 関数とスコープ

## 関数式

Root における関数は、第一級関数(に近いもの)です。
そのため、変数に代入することができたり、関数の引数として関数を渡したりすることもできます。
以下のコードでは、7.0 が出力されます。

```
let add = fn (x, y) {
    return x + y;
};

print(add(2, 5));
```

また、一般的なプログラミング言語で以下のような文法を見かけたことがあるかもしれませんが、Root ではエラーを発生させます。

```
fn add(x, y) {
    return x + y;
}
```

## 呼び出し式

前項ですでに使用していましたが、関数の呼び出しは以下のように行います。

```
print(add(2, 5));
```

ここでの`add`というキーワードは、関数を束縛している識別子です。  
また、以下のような記述も可能です(10.0 が出力される)。

```
let a = 5 + add(1,4);
print(a);
```

## 変数のスコープ

Root では、ブロック(`{}`で囲まれた部分)で新たに変数のスコープが作られます。
以下のコードでははじめに 5.0 が、後に 10.0 が出力されます。

```
let a = 10;
loop {
    let a = 5;
    print(5);
    return;
}
print(a);
```

## 組み込み関数

Root には、現在 2 種類の組み込み関数が存在しています。

### print

引数で与えられた値を出力します。引数が複数与えられた場合、一つずつ順番に、改行を行いながら出力します。

```
print(10);
print(1, 2, 4);
let a = "Root";
print(a);
```

出力結果

```zsh
10.0
1.0
2.0
4.0
Root
```

### read

標準入力から一行読み、その値を返します。

```
print("Enter your name!");
let name = read();
print("Hello, " + name + "!");
```
